<link rel="import" href="../../../node_modules/@polymer/polymer/polymer.html">

<link rel="import" href="../../../node_modules/scram-express/scram-express-app.html">
<link rel="import" href="../../../node_modules/scram-express/scram-express-middleware.html">

<dom-module id="app-component">
    <template>
        <scram-express-app port="5000">
            <scram-express-middleware path="/" callback="[[indexRoute]]"></scram-express-middleware>
        </scram-express-app>
    </template>

    <script>
        class AppComponent {
            beforeRegister() {
                this.is = 'app-component';
                this.properties = {
                };
            }

            ready() {
                this.indexRoute = (req, res) => {
                    res.send('hello it works');
                };
            }

            attached() {}
            detached() {}
            attributeChanged() {}
        }
        Polymer(AppComponent);
    </script>
</dom-module>
